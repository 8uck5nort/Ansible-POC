---

 - name: set tacacs
   hosts: AzureWLC
   gather_facts: false

   tasks:

     - name: sh current aaa swttings
       ios_command:
         commands:
           show run | i aaa
       register: output

     - name: Display sh aaa result
       debug:
         var: output.stdout_lines

     - name: Set aaa values
       cisco.ios.ios_config:
          lines:
            "tacacs server SBDC-ISEPOL01a-TACACS"
            "tacacs server address ipv4 10.255.199.201
            "tacacs key 7 10602530241B0612055273247119611929"

      
